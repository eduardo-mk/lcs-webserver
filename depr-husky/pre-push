#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo 'ğŸ—ï¸ğŸ‘· Styling, testing and building your project before committing'

# Check Prettier standards
npm run check-format ||
(
    echo '
â–’â–ˆâ–€â–€â–ˆ â–ˆâ–‘â–‘â–ˆ â–ˆâ–€â–€ â–ˆâ–€â–€ â–ˆâ–‘â–ˆ ã€€ â–ˆâ–€â–€ â–ˆâ–€â–€â–ˆ â–ˆâ–€â–€â–ˆ â–ˆâ–€â–„â–€â–ˆ â–ˆâ–€â–€â–ˆ â–€â–€â–ˆâ–€â–€ 
â–’â–ˆâ–‘â–‘â–‘ â–ˆâ–€â–€â–ˆ â–ˆâ–€â–€ â–ˆâ–‘â–‘ â–ˆâ–€â–„ ã€€ â–ˆâ–€â–€ â–ˆâ–‘â–‘â–ˆ â–ˆâ–„â–„â–€ â–ˆâ–‘â–€â–‘â–ˆ â–ˆâ–„â–„â–ˆ â–‘â–‘â–ˆâ–‘â–‘ 
â–’â–ˆâ–„â–„â–ˆ â–€â–‘â–‘â–€ â–€â–€â–€ â–€â–€â–€ â–€â–‘â–€ ã€€ â–€â–‘â–‘ â–€â–€â–€â–€ â–€â–‘â–€â–€ â–€â–‘â–‘â–‘â–€ â–€â–‘â–‘â–€ â–‘â–‘â–€â–‘â–‘

Prettier Check Failed. Run npm run format, add changes and try commit again.';
    false;
)

# Check ESLint Standards
npm run check-lint ||
(
        echo '
â–’â–ˆâ–€â–€â–ˆ â–ˆâ–‘â–‘â–ˆ â–ˆâ–€â–€ â–ˆâ–€â–€ â–ˆâ–‘â–ˆ ã€€ â–ˆâ–‘â–‘ â–‘â–€â–‘ â–ˆâ–€â–€â–„ â–€â–€â–ˆâ–€â–€ â–ˆâ–€â–€ â–ˆâ–€â–€â–ˆ ã€€ â–ˆâ–€â–€â–ˆ â–ˆâ–‘â–‘â–ˆ â–ˆâ–‘â–‘ â–ˆâ–€â–€ â–ˆâ–€â–€ 
â–’â–ˆâ–‘â–‘â–‘ â–ˆâ–€â–€â–ˆ â–ˆâ–€â–€ â–ˆâ–‘â–‘ â–ˆâ–€â–„ ã€€ â–ˆâ–‘â–‘ â–€â–ˆâ–€ â–ˆâ–‘â–‘â–ˆ â–‘â–‘â–ˆâ–‘â–‘ â–ˆâ–€â–€ â–ˆâ–„â–„â–€ ã€€ â–ˆâ–„â–„â–€ â–ˆâ–‘â–‘â–ˆ â–ˆâ–‘â–‘ â–ˆâ–€â–€ â–€â–€â–ˆ 
â–’â–ˆâ–„â–„â–ˆ â–€â–‘â–‘â–€ â–€â–€â–€ â–€â–€â–€ â–€â–‘â–€ ã€€ â–€â–€â–€ â–€â–€â–€ â–€â–‘â–‘â–€ â–‘â–‘â–€â–‘â–‘ â–€â–€â–€ â–€â–‘â–€â–€ ã€€ â–€â–‘â–€â–€ â–‘â–€â–€â–€ â–€â–€â–€ â–€â–€â–€ â–€â–€â–€

ESLint Check Failed. Make the required changes listed above, add changes and try to commit again.'
        false; 
)

# Check tsconfig standards
npm run check-types ||
(
    echo '
â–’â–ˆâ–€â–€â–€ â–ˆâ–€â–€â–ˆ â–‘â–€â–‘ â–ˆâ–‘â–‘ â–ˆâ–€â–€ â–ˆâ–€â–€â–„ ã€€ â–€â–€â–ˆâ–€â–€ â–ˆâ–‘â–‘â–ˆ â–ˆâ–€â–€â–ˆ â–ˆâ–€â–€ ã€€ â–ˆâ–€â–€ â–ˆâ–‘â–‘â–ˆ â–ˆâ–€â–€ â–ˆâ–€â–€ â–ˆâ–‘â–ˆ â–ˆâ–€â–€ 
â–’â–ˆâ–€â–€â–€ â–ˆâ–„â–„â–ˆ â–€â–ˆâ–€ â–ˆâ–‘â–‘ â–ˆâ–€â–€ â–ˆâ–‘â–‘â–ˆ ã€€ â–‘â–‘â–ˆâ–‘â–‘ â–ˆâ–„â–„â–ˆ â–ˆâ–‘â–‘â–ˆ â–ˆâ–€â–€ ã€€ â–ˆâ–‘â–‘ â–ˆâ–€â–€â–ˆ â–ˆâ–€â–€ â–ˆâ–‘â–‘ â–ˆâ–€â–„ â–€â–€â–ˆ 
â–’â–ˆâ–‘â–‘â–‘ â–€â–‘â–‘â–€ â–€â–€â–€ â–€â–€â–€ â–€â–€â–€ â–€â–€â–€â–‘ ã€€ â–‘â–‘â–€â–‘â–‘ â–„â–„â–„â–ˆ â–ˆâ–€â–€â–€ â–€â–€â–€ ã€€ â–€â–€â–€ â–€â–‘â–‘â–€ â–€â–€â–€ â–€â–€â–€ â–€â–‘â–€ â–€â–€â–€

Are you seriously trying to write that? Make the changes required above.'
    false;
)

# If everything passes... Now we can commit
echo 'ğŸ¤”ğŸ¤”ğŸ¤”ğŸ¤”... Alright... Code looks good to me... Trying push now. ğŸ¤”ğŸ¤”ğŸ¤”ğŸ¤”'
# echo 'ğŸ¤”ğŸ¤”ğŸ¤”ğŸ¤”... Alright... Code looks good to me... Trying to build now. ğŸ¤”ğŸ¤”ğŸ¤”ğŸ¤”'

# npm run build ||
# (
#     echo '
# âŒâŒâŒâŒâŒâŒâŒâŒâŒâŒâŒâŒâŒâŒâŒâŒâŒâŒâŒâŒâŒâŒâŒâŒâŒâŒ
# â–’â–ˆâ–€â–€â–ˆ â–ˆâ–‘â–‘â–ˆ â–‘â–€â–‘ â–ˆâ–‘â–‘ â–ˆâ–€â–€â–„ ã€€ â–ˆâ–€â–€ â–ˆâ–€â–€â–ˆ â–‘â–€â–‘ â–ˆâ–‘â–‘ â–ˆâ–€â–€ â–ˆâ–€â–€â–„ 
# â–’â–ˆâ–€â–€â–„ â–ˆâ–‘â–‘â–ˆ â–€â–ˆâ–€ â–ˆâ–‘â–‘ â–ˆâ–‘â–‘â–ˆ ã€€ â–ˆâ–€â–€ â–ˆâ–„â–„â–ˆ â–€â–ˆâ–€ â–ˆâ–‘â–‘ â–ˆâ–€â–€ â–ˆâ–‘â–‘â–ˆ 
# â–’â–ˆâ–„â–„â–ˆ â–‘â–€â–€â–€ â–€â–€â–€ â–€â–€â–€ â–€â–€â–€â–‘ ã€€ â–€â–‘â–‘ â–€â–‘â–‘â–€ â–€â–€â–€ â–€â–€â–€ â–€â–€â–€ â–€â–€â–€â–‘ 
# âŒâŒâŒâŒâŒâŒâŒâŒâŒâŒâŒâŒâŒâŒâŒâŒâŒâŒâŒâŒâŒâŒâŒâŒâŒâŒ

# Next build failed: View the errors above to see why.'
#     false;
# )

# If everything passes... Now we can commit
echo 'âœ…âœ…âœ…âœ… Pushing code âœ…âœ…âœ…âœ…'
